"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1918],{1029:function(t,e){e.Z=t=>{let{content:e,style:a,id:n=""}=t;return'\n  <div class="cmpt-modal active">\n    <div data-name="MODAL_CLOSE" data-detail=\'{ "id": "'.concat(n,'" }\' class="cmpt-modal-blanket scrollable-y z-top border-box fixed top left height-100 padding-small large-up-padding-xlarge width-100">\n      <div class="cmpt-modal-container bg-white radius border-box width-centered width-100 relative" style="min-width: auto; max-width: ').concat(a.width,'px;">\n        <button\n          data-name="MODAL_CLOSE" \n          data-detail=\'{ "close": true }\'\n          class="radius-circle scale-on-hover bg-gray-light z-force-top absolute top right margin-vert-xsmall margin-horz-xsmall"\n        >\n          <span class="margin-xsmall icon-center icon-x-charcoal icon-small">Close</span>\n        </button>\n        <div data-template="modal-content" style="min-height: ').concat(isNaN(a.height)?a.height:"".concat(a.height,"px"),';">\n          ').concat(e,"\n        </div>\n      </div>      \n    </div>\n  </div>\n")}},1537:function(t,e,a){a.r(e);var n=a(9894),s=a(8785),i=a(1029);$(document).on("submit","[data-form-account]",(function(t){t.preventDefault();const e={};if($(this).closest("form").find("[data-form-field]").each((function(){e[$(this).prop("name")]=$(this).val().trim()})),(0,n.IW)({type:$(this).data("form-account"),fields:e,form:$(this).closest("form"),submitBtnProcessing:"Saving...",submitBtn:$(this).closest("form").find("button[type=submit]")}),r(),"email"===(0,n.Bm)().type&&(0,n.IW)({url:"/user/profile/updateEmail"}),"password"===(0,n.Bm)().type){if(0===(0,n.Bm)().fields.newPassword.length)return void o("Please enter a new password");if((0,n.Bm)().fields.newPassword!==(0,n.Bm)().fields.confirmPassword)return void o("New password and verify password do not match");(0,n.IW)({url:"/user/profile/updatePassword"})}(0,n.sY)("modal",(0,i.Z)({content:'\n        <div class="row vert-align-middle horz-align-center absolute left right top bottom">\n          <div class="loader-bars"></div>\n        </div>\n      ',style:{width:400,height:350}})),$.ajax({url:"/maestro/overlay/account/user",method:"get",dataType:"json",success:function(t){(0,n.sY)("modal",(0,i.Z)({content:t.html,style:{width:400,height:350}}),(()=>{$(".cmpt-modal").find("[data-copy]").html((0,n.Bm)().type)}))}})})),$(document).on("click","[data-delete-account]",(function(){(0,n.IW)({type:"delete",url:"/user/profile/delete",fields:null}),(0,n.sY)("modal",(0,i.Z)({content:'\n        <div class="row vert-align-middle horz-align-center absolute left right top bottom">\n          <div class="loader-bars"></div>\n        </div>\n      ',style:{width:400,height:350}})),$.ajax({url:"/maestro/overlay/account/delete",method:"get",dataType:"json",success:function(t){(0,n.sY)("modal",(0,i.Z)({content:t.html,style:{width:400,height:350}}))}})})),$(document).on("submit","[data-form-confirm-update]",(function(t){t.preventDefault(),(0,n.IW)({form:$(t.target),submitBtnProcessing:"delete"===(0,n.Bm)().type?"Processing":"Updating...",submitBtn:$(t.target).find("button[type=submit]"),submitBtnText:$(t.target).find("button[type=submit]").text(),fields:{...(0,n.Bm)().fields,currentPassword:$(this).find("[name=currentPassword]").val()}}),(0,n.Bm)().submitBtn.text((0,n.Bm)().submitBtnProcessing).prop("disabled",!0),$.ajax({type:"post",url:(0,n.Bm)().url,data:JSON.stringify((0,n.Bm)().fields)}).done((function(t){(t=JSON.parse(t)).success?window.location.reload(!0):o(t.message)}))}));const o=t=>{(0,n.Bm)().form.find("[data-form-errors]").removeClass("hidden").find(".error-content").html(t),(0,n.Bm)().submitBtn.prop("disabled",!1).text((0,n.Bm)().submitBtnText)},r=()=>{(0,n.Bm)().form.find("[data-form-errors]").addClass("hidden")};e.default=t=>{switch(t.name){case"change:USER_NEWSLETTER":{const e=t.target.checked,a=t.target.value;window.CC.trackGA({category:"Newsletter Preferences",action:e?"Subscribed":"Unsubscribed",label:a}),(0,s.Z)("UPDATE_NEWSLETTER_PREFERENCE",{parameters:{id:a,action:e?"subscribe":"unsubscribe"}});break}case"change:MOOC_TRACKER":{const e=t.target.checked,a=t.target.value;window.CC.trackGA({category:"MOOC Tracker Preferences",action:e?"Checked":"UnChecked",label:a}),(0,s.Z)("UPDATE_TRACKER_PREFERENCE",{parameters:{id:a,checked:e?1:0}});break}}}}}]);