"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4288],{6753:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var a=n(9894),r=n(5982),l=n(3943),o=n(2648);const s=["local","session"];function i(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}var c=new WeakMap,u=new WeakMap;class h{constructor(){i(this,c,{writable:!0,value:!1}),i(this,u,{writable:!0,value:!1}),(0,o.Z)(this,c,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";if(!s.includes(e))throw new UnsupportedWebStorageTypeError;try{const t=window["".concat(e,"Storage")];return t.setItem("__storage_test__","__storage_test__"),t.removeItem("__storage_test__"),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&store&&0!==store.length}}())}setSilentlyFail(e){(0,o.Z)(this,u,e)}setItem(e,t){if((0,l.Z)(this,c))window.localStorage.setItem(e,t);else if(!(0,l.Z)(this,u))throw new Error("Local storage unavailable")}getItem(e){if((0,l.Z)(this,c))return window.localStorage.getItem(e);if((0,l.Z)(this,u))return null;throw new Error("Local storage unavailable")}removeItem(e){if((0,l.Z)(this,c))window.localStorage.removeItem(e);else if(!(0,l.Z)(this,u))throw new Error("Local storage unavailable")}}function d(e,t){m(e,t),t.add(e)}function E(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var g=new WeakMap,v=new WeakMap,p=new WeakMap,w=new WeakSet,_=new WeakSet;class O{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,_),d(this,w),E(this,g,{writable:!0,value:void 0}),E(this,v,{writable:!0,value:void 0}),E(this,p,{writable:!0,value:void 0}),(0,o.Z)(this,g,e),(0,o.Z)(this,v,t),(0,o.Z)(this,p,n)}add(e){const t=f(this,w,T).call(this);let n=[e].concat(t);null!==(0,l.Z)(this,p)&&n.length>(0,l.Z)(this,p)&&(n=n.slice(0,(0,l.Z)(this,p))),f(this,_,A).call(this,n)}has(e){return f(this,w,T).call(this).includes(e)}remove(e){const t=f(this,w,T).call(this).filter((t=>t!==e));f(this,_,A).call(this,t)}replace(e,t){const n=f(this,w,T).call(this).map((n=>n===e?t:n));f(this,_,A).call(this,n)}at(e){var t;return null!==(t=f(this,w,T).call(this).at(e))&&void 0!==t?t:null}countAll(){return f(this,w,T).call(this).length}getAll(){return f(this,w,T).call(this)}clearAll(){(0,l.Z)(this,g).removeItem((0,l.Z)(this,v))}}function T(){const e=(0,l.Z)(this,g).getItem((0,l.Z)(this,v));return null===e?[]:JSON.parse(e)}function A(e){(0,l.Z)(this,g).setItem((0,l.Z)(this,v),JSON.stringify(e))}var C=n(8785),b=n(8858);const S=getComputedStyle(document.documentElement).getPropertyValue("--large-up-bp"),k=document.querySelector('[data-name="AUTOCOMPLETE_SEARCHBOX"]'),L=document.querySelector('[data-name="MOBILE_AUTOCOMPLETE_SEARCHBOX"]'),y=document.querySelector(".js-autocomplete-results"),M=["page-empty_search","page-home"].includes(document.body.id);let Z="",U=!1,R=[];const I=()=>window.matchMedia("(min-width: ".concat(S,")")).matches,P=()=>{!I()||k.getBoundingClientRect().bottom<-100&&B(!0)},B=function(){let e=!!(arguments.length>0&&void 0!==arguments[0])&&arguments[0];document.documentElement.classList.remove("search-open"),U=!1,M&&window.removeEventListener("scroll",P),e&&document.activeElement&&document.activeElement.blur()},H=()=>{R=document.querySelectorAll(".js-autocomplete-result")},W=e=>{y.innerHTML=e,y.hidden=""===e,H()};let D=null,X=null;const q=e=>{X=new AbortController;const t=X.signal;(0,C.Z)("AUTOCOMPLETE",{parameters:{query:e},fetchOptions:{signal:t}})},N=()=>{null!==X&&(X.abort(),X=null),null!==D&&clearTimeout(D)};let j=null;const x=()=>{const e=new h;return e.setSilentlyFail(!0),new O(e,"recent_search_tokens",3)},G=e=>{if(null===j&&(j=x()),!j.has(e)){const t=j.at(0);return null!==t&&e.startsWith(t)?void j.replace(t,e):void j.add(e)}};var J=e=>{switch(e.name){case"load:WINDOW":{const e=(null===j&&(j=x()),j.getAll());e.length>=3&&(0,a.sY)("suggested_search_tokens",(e=>'\n        <h2 class="search-results__group-heading">Recent</h2>\n        <ol class="list-no-style">\n            '.concat(e.tokens.map((e=>{const t=(0,b.T)(JSON.stringify({category:"autocomplete empty state",action:"recent_search_token",label:"Entry: “".concat(e,"”")})),n=(0,b.T)(JSON.stringify({term:e}));return'\n                    <li>\n\n                        <button\n                            class="search-results__result js-autocomplete-result"\n                            data-track-ga="'.concat(t,'"\n                            type="button"\n                            data-name="SUGGESTED_SEARCH_TERM"\n                            data-detail="').concat(n,'"\n                        >\n                            <i class="search-results__result-icon icon-search-charcoal icon-small"></i>\n                            <div class="search-results__result-info">\n                                <span class="search-results__result-name">').concat(e,"</span>\n                            </div>\n                        </button>\n                    </li>\n                ")})).join(""),"\n        </ol>\n    "))({tokens:e})),H();break}case"keydown:DOCUMENT":if(!U)return;switch(e.originalEvent.key){case"Escape":B(!0);break;case"ArrowUp":(()=>{if(0===R.length)return;const e=[...R].findIndex((e=>e.matches(":focus")));let t=R.length-1;-1!==e&&(t=0===e?R.length-1:e-1),R[t].focus()})(),e.originalEvent.preventDefault();break;case"ArrowDown":(()=>{if(0===R.length)return;const e=[...R].findIndex((e=>e.matches(":focus")));let t=0;-1!==e&&(t=e===R.length-1?0:e+1),R[t].focus()})(),e.originalEvent.preventDefault()}break;case"click:AUTOCOMPLETE_SEARCHBOX":if(e.originalEvent.target.parentElement,U)return;(!M||!I())&&window.scrollTo(0,0),document.documentElement.classList.add("search-open"),!I()&&L.focus(),U=!0,(0,r.W)("load","AUTOCOMPLETE_SEARCH",{}),M&&window.addEventListener("scroll",P),k.value.length>0&&0===R.length&&(N(),q(k.value));break;case"click:SUGGESTED_SEARCH_TERM":{const t=e.detail.term;if((e=>{const t=e.length>0?"remove":"add";[k,L].forEach((n=>{n.value=e,n.classList[t]("is-blank")}))})(t),t===Z)return;if(N(),Z=t,""===Z)return void W("");D=setTimeout((function(){q(t),G(t)}),500);break}case"keyup:AUTOCOMPLETE_SEARCHBOX":case"keyup:MOBILE_AUTOCOMPLETE_SEARCHBOX":{const t=e.originalEvent.target;if((e=>{const t=e.value,n=t.length>0?"remove":"add";[k,L].forEach((a=>{a!==e&&(a.value=t),a.classList[n]("is-blank")}))})(t),t.value===Z)return;if(N(),Z=t.value,""===Z)return void W("");D=setTimeout((function(){q(t.value),G(t.value)}),500);break}case"focus:AUTOCOMPLETE_SEARCHBOX":case"focus:MOBILE_AUTOCOMPLETE_SEARCHBOX":{const t=e.originalEvent.target;t.parentElement.querySelector('[data-name="AUTOCOMPLETE_CLEAR"][aria-controls="'.concat(t.id,'"]')).hidden=!1;break}case"blur:AUTOCOMPLETE_SEARCHBOX":case"blur:MOBILE_AUTOCOMPLETE_SEARCHBOX":{const t=e.originalEvent.target,n=t.parentElement.querySelector('[data-name="AUTOCOMPLETE_CLEAR"][aria-controls="'.concat(t.id,'"]'));setTimeout((()=>{!t.matches(":focus")&&(n.hidden=!0)}),200);break}case"click:AUTOCOMPLETE_CLEAR":{const t=e.originalEvent.target.getAttribute("aria-controls");(e=>{[k,L].forEach((t=>{t.value="",t.classList.add("is-blank"),t===e&&t.focus()})),Z=""})(document.getElementById(t)),N(),W("");break}case"click:AUTOCOMPLETE_BLANKET":case"click:MOBILE_AUTOCOMPLETE_EXIT":B();break;case"request:AUTOCOMPLETE_SUCCESS":W(e.detail.json.html)}}},1209:function(e,t,n){function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{Z:function(){return a}})},3943:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(1209);function r(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,a.Z)(e,t,"get"))}},2648:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(1209);function r(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,(0,a.Z)(e,t,"set"),n),n}},8858:function(e,t,n){n.d(t,{T:function(){return r}});const a=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function r(e,...t){if("string"==typeof e)return a(e);let n=e[0];for(const[r,l]of t.entries())n=n+a(String(l))+e[r+1];return n}}}]);