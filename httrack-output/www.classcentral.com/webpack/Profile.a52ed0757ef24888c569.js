"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5097,7536,5823],{1029:function(e,a){a.Z=e=>{let{content:a,style:n,id:t=""}=e;return'\n  <div class="cmpt-modal active">\n    <div data-name="MODAL_CLOSE" data-detail=\'{ "id": "'.concat(t,'" }\' class="cmpt-modal-blanket scrollable-y z-top border-box fixed top left height-100 padding-small large-up-padding-xlarge width-100">\n      <div class="cmpt-modal-container bg-white radius border-box width-centered width-100 relative" style="min-width: auto; max-width: ').concat(n.width,'px;">\n        <button\n          data-name="MODAL_CLOSE" \n          data-detail=\'{ "close": true }\'\n          class="radius-circle scale-on-hover bg-gray-light z-force-top absolute top right margin-vert-xsmall margin-horz-xsmall"\n        >\n          <span class="margin-xsmall icon-center icon-x-charcoal icon-small">Close</span>\n        </button>\n        <div data-template="modal-content" style="min-height: ').concat(isNaN(n.height)?n.height:"".concat(n.height,"px"),';">\n          ').concat(a,"\n        </div>\n      </div>      \n    </div>\n  </div>\n")}},2913:function(e,a){const n=(e,a,n)=>{const t={error:{border:"red-light",color:"red",bg:"red-xlight"},warning:{border:"yellow-mid",color:"charcoal",bg:"yellow-xlight"},info:{border:"blue-light",color:"charcoal",bg:"blue-xlight"},success:{border:"green-mid",color:"charcoal",bg:"green-xlight"}},l=document.createElement("div");l.innerHTML='\n    <div data-name="NOTICE_CMPT" data-notice class="radius-small\n      border-all border-'.concat(t[e].border," \n      color-").concat(t[e].color," text-left text-3 padding-horz-xsmall padding-vert-xxsmall padding-right-xxlarge margin-vert-xxsmall relative\n      bg-").concat(t[e].bg,' text-left text-3 padding-horz-xsmall padding-vert-xxsmall padding-right-xxlarge margin-vert-xxsmall relative\n    ">\n      <div class="').concat(e,'-content">').concat(n,'</div>\n      <button\n        type="button"\n        data-name="REMOVE_PARENT"\n        data-detail=\'{ "target": "NOTICE_CMPT" }\'\n        class="block absolute top right padding-horz-xsmall padding-vert-xxsmall"\n      >\n        <i class="icon-xsmall icon-x-charcoal"></i>\n      </button>\n    </div>\n  '),document.querySelector(a).prepend(l.firstElementChild)};a.Z={error:(e,a)=>{n("error",e,a)},success:(e,a)=>{n("success",e,a)},warning:(e,a)=>{n("warning",e,a)},info:(e,a)=>{n("info",e,a)}}},382:function(e,a){a.Z=()=>'\n  <div class="row vert-align-middle horz-align-center absolute left right top bottom"><div class="loader-bars"></div></div>\n'},8117:function(e,a){a.Z=e=>'\n  <button\n    class="'.concat(e.isLoading?" processing ":"").concat(e.style?e.style:"btn-blue"," btn-").concat(e.size||"large",' relative"\n    type="').concat(e.type?e.type:"submit",'"').concat(e.isLoading?" disabled":"","\n  >\n    ").concat(e.isLoading?'<span\n        class="loader-bars '.concat(e.loaderStyle?e.loaderStyle:"loader-white",' loader-small absolute"\n        style="left: 50%; margin-left: -2.5px;"\n      ></span>\n      <span class="invisible">').concat(e.label,"</span>"):e.label,"\n  </button>\n")},5816:function(e,a,n){n.r(a),n.d(a,{default:function(){return c}});var t=n(9894),l=n(5982),i=n(8785),s=n(8117),o=n(2385);const r=()=>(0,t.y0)().profile,d=e=>(0,t.IW)({profile:{...r(),...e}});d({nextPage:null});var c=e=>{switch(e.name){case"request:GET_PROFILE_SIDEBAR_SUCCESS":(0,t.sY)("edit-profile",e.detail.json.html,null,!0),"save-profile"===e.detail.context&&(0,l.W)("notification","SHOW",{title:"Profile updated successfully",type:"success",delay:1e4}),(0,l.W)("load","PROFILE_SIDEBAR");break;case"click:EDIT_PROFILE":var a;if(window.location.pathname.match(/getting-started/)&&d({nextPage:(0,t.y0)().data.urls.user.gettingStarted}),null!==(a=e.detail)&&void 0!==a&&a.loaderInPlace){const a=document.createElement("div");a.setAttribute("class","horz-align-right loader-bars margin-right-large loader-small"),e.target.append(a),d({loadingNode:a})}else(0,t.sY)("profile-edit-button",(0,s.Z)({type:"button",style:"btn-white",loaderStyle:"loader-blue",size:"medium",label:"Edit profile",isLoading:!0}));(0,i.Z)("GET_PROFILE_FORM");break;case"request:GET_PROFILE_FORM_SUCCESS":(0,t.Bm)().profile.loadingNode&&((0,t.Bm)().profile.loadingNode.remove(),d({loadingNode:null})),(0,t.sY)("edit-profile",e.detail.json.html,(()=>{window.requestAnimationFrame((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}))}),!0),(0,l.W)("load","PROFILE_FORM");break;case"submit:PROFILE_FORM":{e.originalEvent.preventDefault(),(0,t.sY)("profile-submit-button",(0,s.Z)({label:"Save",size:"medium",isLoading:!0}));const a=new FormData(e.originalEvent.target),n={location:a.get("location"),aboutMe:a.get("aboutMe"),visibility:parseInt(a.get("visibility"),10),name:a.get("name")},o={...n};a.get("next")&&(o.nextPage=a.get("next")),d(o),(0,l.W)("notification","CLEAR_ALL"),(0,i.Z)("UPDATE_PROFILE",{data:n});break}case"click:DISCARD_PROFILE_CHANGES":(0,t.sY)("profile-discard-button",(e=>'\n  <button\n    type="button"\n    data-name="DISCARD_PROFILE_CHANGES"\n    class="color-gray padding-horz-small relative">\n    '.concat(e.isLoading?'<span\n          class="loader-bars loader-small absolute"\n          style="top: 50%; left: 50%; margin: -7px -2.5px -3px 0;"\n        ></span>\n        <span class="invisible">Discard</span>':"Discard","    \n  </button>\n"))({isLoading:!0})),(0,i.Z)("GET_PROFILE_SIDEBAR");break;case"request:UPDATE_PROFILE_SUCCESS":if(r().nextPage)return window.location.assign(r().nextPage);(0,i.Z)("GET_PROFILE_SIDEBAR",{context:"save-profile"});break;case"request:UPDATE_PROFILE_ERROR":(0,t.sY)("profile-submit-button",(0,s.Z)({label:"Save",size:"medium",isLoading:!1})),(0,o.Z)("PROFILE_FORM",e.detail.fieldErrors);break;case"pageshow:DOCUMENT":(0,t.sY)("profile-submit-button",(0,s.Z)({label:"Save",size:"medium",isLoading:!1}));break;case"click:DELETE_CLASSROOM_LIST":(0,i.Z)("CLASSROOM/DELETE_LIST",{parameters:{classroomListId:e.detail.id}});break;case"request:CLASSROOM/DELETE_LIST_SUCCESS":window.location.reload()}}},1224:function(e,a,n){n.r(a),n.d(a,{default:function(){return u}});var t=n(9894),l=n(8785),i=n(1233);const s=e=>JSON.stringify({allowedMimeTypes:e.allowedMimeTypes,placeholderInitials:e.placeholderInitials,url:e.url});var o=e=>'\n  <div class="border-box width-100 height-100 border-all radius-circle border-thick row horz-align-center vert-align-middle" style="\n      background-color: '.concat(e.url?"#FBFBFB":"var(--avatar-placeholder-light)",";\n      border-color: ").concat(e.url?"#E2E2E2":"var(--avatar-placeholder-dark)",';">\n    ').concat(e.url?"":'\n      <span style="color: var(--avatar-placeholder-dark);" aria-hidden="true" class="cmpt-avatar-initials">\n        '.concat(e.placeholderInitials,"\n      </span>\n    "),"\n  </div>\n  ").concat(e.url?'\n    <img style="object-fit: cover;" class="'.concat(e.isUploading?"transparent":"",' absolute top left block radius-circle width-100 height-100" src="').concat(e.url,'">\n  '):"","\n\n  ").concat(e.isEditable?'\n    <input\n        class="hidden"\n        type="file"\n        id="profile-image-input"\n        data-name="PROFILE_IMAGE_INPUT"      \n        '.concat(Array.isArray(e.allowedMimeTypes)?'accept="'.concat(e.allowedMimeTypes.join(","),'"'):"","\n        data-detail='").concat(s(e),"'\n        ").concat(e.isUploading?"disabled":"",'\n        name="image"\n    >\n    <div\n      style="transform: translateY(30%) translateX(-50%); left: 50%;"\n      class="row nowrap vert-align-middle absolute bottom ').concat(e.url&&!e.isUploading?"btn-group":"",'"\n    >').concat(e.isUploading?'\n      <div\n        style="left: 50%; margin-left: -2.5px;"\n        class="absolute loader-bars loader-small">\n      </div>':"","\n      ").concat(e.url&&!e.isUploading?'\n        <button\n          type="button"\n          data-detail=\''.concat(s(e),'\'\n          data-name="PROFILE_IMAGE_DELETE"\n          class="').concat(e.deleting?"bg-red-light border-red":"",' hover-bg-red-light btn-white btn-xsmall"\n        >\n          <i class="icon-small icon-trash"></i>\n        </button>\n      '):"",'\n      <label\n        class="btn-white btn-xsmall"\n        for="profile-image-input"\n        aria-label="').concat(null===e.url?"Upload":"Change",' image"\n      >\n        <i class="').concat(e.isUploading?"invisible":"",' icon-small icon-camera-charcoal"></i>\n      </label>\n    </div>\n    ').concat(e.deleting?(e=>'  \n  <div\n    style="width: 300px;"\n    class="bg-white margin-top-small radius-small z-top absolute shadow-light border-gray-light border-box padding-small"\n  >\n    <h4 class="text-2">\n      Are you sure you want to delete your profile picture?\n    </h4>\n    <div class="text-left row vert-align-middle margin-top-xsmall">\n      <button\n        type="button"\n        class="btn-white"\n        data-name="PROFILE_IMAGE_DELETE_CANCEL"\n      >Cancel</button>\n      <button\n        type="button"\n        class="btn-white color-red margin-left-xsmall"\n        data-name="PROFILE_IMAGE_DELETE_CONFIRM"\n        style="border-color: #F4776D;"\n      >\n        '.concat(e.processing?"Deleting...":"Confirm & Delete","\n      </button>\n      ").concat(e.processing?'\n        <span class="loader-bars horz-align-right loader-small margin-left-large"></span>\n      ':"","\n    </div>\n  </div>\n"))(e):"","\n   "):"","\n"),r=n(6848),d=n(5390),c=n(2385);const g=new d.Z,m=()=>(0,t.y0)().profile.profileImage,p=e=>(0,t.IW)({profile:{...(0,t.y0)().profile,profileImage:{...(0,t.y0)().profile.profileImage,...e}}});var u=async e=>{switch(e.name){case"change:PROFILE_IMAGE_INPUT":{const a=e.originalEvent.target.files;if(1!==a.length)return;const n=a.item(0);p({...e.detail,isEditable:!0,isUploading:!0}),(0,t.sY)("profile-image-editable-swappable",o(m())),(0,t.sY)("field-message-image","");const s=new FormData;let d;s.append("image",n),(0,l.Z)("UPLOAD_PROFILE_IMAGE",{data:s});try{d=await g.upload(n,"profile_image")}catch(e){return void(0,i.Z)(e,"UPLOAD_PROFILE_IMAGE",{},!1)}const c=await d.json();p({url:c.file.url,isUploading:!1}),(0,t.sY)("field-message-image",(0,r.Z)({type:"success",message:"Image uploaded and saved successfully"})),(0,t.sY)("profile-image-editable-swappable",o(m())),(0,t.sY)("profile-image-swappable",o({...m(),isEditable:!1}));break}case"click:PROFILE_IMAGE_DELETE":p({...e.detail,isEditable:!0,deleting:!0}),(0,t.sY)("profile-image-editable-swappable",o(m()));break;case"click:PROFILE_IMAGE_DELETE_CONFIRM":p({processing:!0}),(0,t.sY)("profile-image-editable-swappable",o(m())),(0,l.Z)("DELETE_PROFILE_IMAGE");break;case"click:PROFILE_IMAGE_DELETE_CANCEL":p({processing:!1,deleting:!1}),(0,t.sY)("profile-image-editable-swappable",o(m()));break;case"request:DELETE_PROFILE_IMAGE_SUCCESS":p({url:!1,processing:!1,deleting:!1}),(0,t.sY)("field-message-image",(0,r.Z)({type:"success",message:"Image deleted successfully"})),(0,t.sY)("profile-image-editable-swappable",o(m())),(0,t.sY)("profile-image-swappable",o({...m(),isEditable:!1}));break;case"request:UPLOAD_PROFILE_IMAGE_ERROR":413===e.detail.status&&(e.detail.fieldErrors.image=["This image is too large. Please use an image with a maximum size of 1 MB."]),(0,c.Z)("PROFILE_FORM",e.detail.fieldErrors),p({isUploading:!1}),(0,t.sY)("profile-image-editable-swappable",o(m()))}}},3788:function(e,a,n){n.r(a),n.d(a,{default:function(){return m}});n(5982);var t=n(9894),l=n(1029),i=n(382),s=n(8785),o=n(2913),r=e=>'\n<div class="padding-medium">\n  <h3 class="head-3">Add user handle</h3>\n  <p class="margin-vert-small line-tight">\n    Personalize your public profile with a Class Central user handle.\n  </p>\n  '.concat(e.locked?'\n  <div class="row nowrap vert-align-top bg-yellow-xlight radius-small border-all border-yellow-mid padding-small">\n    <div class="margin-right-small">\n      <span\n        class="row horz-align-center vert-align-middle border-all radius-circle bg-yellow-mid border-yellow-mid"\n        style="width: 25px; height: 25px;">\n        <i class="icon-lock-white icon-center icon-xsmall"></i>\n      </span>\n    </div>\n    <p class="line-tight">To unlock and add a user handle you’ll need to complete your profile. See your <a class="color-charcoal underline" href="'.concat(e.gettingStartedUrl,'">Getting Started List</a> to see what items remain.</p>\n  </div>\n  '):'\n    <form data-name="HANDLE_FORM" '.concat(e.isLoading?'class="transparent"':"",'>\n      <fieldset class="relative margin-bottom-xsmall">\n        <label class="row text-2 margin-bottom-xxsmall" for="handle-input">\n          Choose your handle\n          <span data-template="field-message-handle-status" class="horz-align-right">\n          ').concat(e.readyToConfirm?'\n            <span class="padding-horz-xxsmall bg-green-light border-green-light radius-small">\n              <span class="text-4 icon-left-xsmall icon-checkmark">Looks good</span>\n            </span>\n          ':"",'\n          </span>\n        </label>\n        <span\n          style="top: 35px; left: 10px;"\n          class="weight-bold head-2 absolute"\n        >\n          @\n        </span>\n        <input\n          type="text"\n          value="').concat(e.handle||"",'"\n          name="handle"\n          id="handle-input"\n          ').concat(e.isLoading?"disabled":'data-name="HANDLE_INPUT"','          \n          class="width-100 input-large input-white padding-left-xlarge"\n        />\n      </fieldset>\n      <div data-template="field-message-handle" class="margin-bottom-xsmall"></div>\n      <div class="row nowrap horz-align-right vert-align-middle">\n        <button\n          type="button"\n          class="text-2 color-gray margin-right-small"\n          data-name="MODAL_CLOSE" \n          data-detail=\'{ "close": true }\'\n        >Cancel</button>\n        <div data-template="handle-submit-button">\n          <button class="btn-blue btn-medium">').concat(e.readyToConfirm?"Confirm & Save":"Next","</button>\n        </div>\n      </div>\n    </form>"),"\n</div>\n"),d=n(8117);const c=()=>(0,t.y0)().profile.handle,g=e=>(0,t.IW)({profile:{...(0,t.y0)().profile,handle:{...c(),...e}}});var m=e=>{switch(e.name){case"click:ADD_USER_HANDLE":(0,t.sY)("modal",(0,l.Z)({content:(0,i.Z)(),style:{width:400,height:230}})),(0,s.Z)("HANDLE_CHECK_ELIGIBILITY");break;case"request:HANDLE_CHECK_ELIGIBILITY_SUCCESS":g({locked:!e.detail.json.userEligibleForHandle,readyToConfirm:!1}),(0,t.sY)("modal",(0,l.Z)({content:r({...c(),gettingStartedUrl:(0,t.y0)().data.urls.user.gettingStarted}),style:{width:400,height:230}}));break;case"keyup:HANDLE_INPUT":g({readyToConfirm:!1}),(0,t.sY)("field-message-handle",null),(0,t.sY)("field-message-handle-status",null);break;case"submit:HANDLE_FORM":{e.originalEvent.preventDefault();const a=new FormData(e.target).get("handle");g({handle:a,isLoading:!0}),(0,t.sY)("modal",(0,l.Z)({content:r(c()),style:{width:400,height:230}}),(()=>{window.requestAnimationFrame((()=>{(0,t.sY)("handle-submit-button",(0,d.Z)({label:c().readyToConfirm?"Confirm & Save":"Next",size:"medium",isLoading:!0}))}))})),c().readyToConfirm?(0,s.Z)("HANDLE_SET",{data:{handle:a}}):(0,s.Z)("HANDLE_CHECK_AVAILABILITY",{data:{handle:a}});break}case"request:HANDLE_SET_SUCCESS":window.location.reload();break;case"request:HANDLE_SET_ERROR":p(e.detail.json.message,!1);break;case"request:HANDLE_CHECK_AVAILABILITY_SUCCESS":{(0,t.sY)("field-message-handle",null);const{available:a,valid:n,invalidReasons:i}=e.detail.json;a&&n?(g({readyToConfirm:!0,isLoading:!1}),(0,t.sY)("modal",(0,l.Z)({content:r(c()),style:{width:400,height:230}}),(()=>{window.requestAnimationFrame((()=>{o.Z.info("[data-template=field-message-handle]",'<span class="text-3 icon-alert-blue icon-left-small">Once you set your handle it cannot be changed.</span>')}))}))):p(!(!i||!i.length)&&i[0],!a&&'The handle "'.concat(c().handle,'" is unavailable'));break}}};const p=(e,a)=>{g({readyToConfirm:!1,isLoading:!1}),(0,t.sY)("modal",(0,l.Z)({content:r(c()),style:{width:400,height:230}}),(()=>{window.requestAnimationFrame((()=>{e?o.Z.error("[data-template=field-message-handle]",e):a&&o.Z.warning("[data-template=field-message-handle]",a),(0,t.sY)("handle-submit-button",(0,d.Z)({label:"Next",size:"medium",isLoading:!1}))}))}))}},6520:function(e,a,n){n.r(a);var t=n(5816),l=n(1224),i=n(3788);a.default=e=>{e.useHandler(t.default),e.useHandler(l.default),e.useHandler(i.default)}}}]);