"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2571],{7393:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var n=s(411),r=s.n(n),l=s(2434),a=s(9894),i=s(5982),o=s(8785);var c=e=>e.isCompleted?(e=>'\n  <div class="col" style="align-items: center;">\n    <span class="text-2 weight-semi"><i class="icon-progress-mark-blue icon-medium margin-right-xxsmall"></i>Completed</span>\n    <button\n      class="text-4 underline"\n      type="button"\n      data-name="UNDO_CLASSROOM_ITEM_COMPLETE"\n      data-detail=\'{"itemId": "'.concat(e.itemId,'"}\'\n      style="align-self: flex-end;"\n    >Undo</button>\n  </div>\n  '))(e):(e=>'\n  <button\n    class="btn-small btn-blue"\n    type="button"\n    data-name="MARK_CLASSROOM_ITEM_COMPLETE"\n    data-detail=\'{"itemId": "'.concat(e.itemId,'"}\'\n    style="margin-top: 2px; margin-bottom: 2px;"\n  ><i class="icon-progress-mark-white icon-medium margin-right-xsmall"></i>Mark as complete</button>\n  '))(e);var d=e=>e.isCurrent?(e=>'\n  <button\n    type="button"\n    data-name="'.concat(e.isCompleted?"UNDO_CLASSROOM_ITEM_COMPLETE":"MARK_CLASSROOM_ITEM_COMPLETE",'"\n    data-detail=\'{"itemId": "').concat(e.itemId,'"}\'\n    class="margin-left-small nowrap radius-circle border-box bg-').concat(e.isCompleted?"blue-mid":"white",' border-blue-mid"\n    style="display: flex; justify-content: center; align-items: center; border-style: solid; border-width: 2px; height: 27px; width: 27px;"\n  >\n    ').concat(e.isCompleted?'<i class="icon-checkmark-white icon-small icon-center"></i>':"","\n  </button>\n  "))(e):(e=>'\n  <div\n    class="margin-left-small nowrap radius-circle border-box bg-'.concat(e.isCompleted?"blue-mid":"white",' border-blue-mid"\n    style="display: flex; justify-content: center; align-items: center; border-style: solid; border-width: 2px; height: 27px; width: 27px;"\n  >\n    ').concat(e.isCompleted?'<i class="icon-checkmark-white icon-small icon-center"></i>':"","\n  </div>\n  "))(e);var u=e=>e.completedItems===e.totalItems?(e=>'\n  <div>\n    <div class="row horz-align-center">\n      <p class="margin-bottom-xsmall">You’ve completed this course!</p>\n    </div>\n    \n    <div class="row horz-align-center">\n      '.concat(null===e.reviewId?(e=>'\n  <a\n    class="btn-blue btn-medium padding-horz-xlarge"\n    href="/review/new/'.concat(e.courseId,'"\n    rel="nofollow"\n  >\n    Write review\n  </a>\n  '))(e):(e=>'\n  <a\n    class="btn-white btn-medium padding-horz-xlarge"\n    href="/user/review/edit/'.concat(e.reviewId,'"\n  >\n    Edit review <i class="icon-pencil-charcoal icon-small margin-left-xsmall"></i>\n  </a>\n  '))(e),"\n    </div>\n  </div>\n  "))(e):(e=>'\n  <div class="classroom__progress-in-progress-banner">\n    <progress class="classroom-progress margin-bottom-xxsmall" value="'.concat(e.completedItems,'" max="').concat(e.totalItems,'"></progress>\n    <p class="text-4" style="color: #06213D;">').concat(e.completedItems,"/").concat(e.totalItems," completed</p>\n  </div>\n  "))(e),p=e=>'\n  <a\n    href="'.concat(e.nextItemUrl,'"\n    class="').concat(e.highlight?"bg-blue color-white icon-chevron-right-white":"color-charcoal bg-gray-mid icon-chevron-right-charcoal",' classroom-item-nav-button small-down-icon-center icon-right-small"\n  >Next</a>\n  '),m=s(8248),h=s.n(m);const y=["keydown","keyup"],g=[48,49,50,51,52,53,54,55,56,57],I=[32,75],v=[32,37,38,39,40,...g,70,75,77];var _=s(763),b=s.n(_);const C=e=>Math.trunc(e/60/60%60,10),T=e=>Math.trunc(e/60%60,10),f=e=>Math.trunc(e%60,10);function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!!(arguments.length>1&&void 0!==arguments[1])&&arguments[1];const s=e=>"0".concat(e).slice(-2);let n=C(e);const r=T(e),l=f(e);return n=n>0?"".concat(n,":"):"","".concat(t&&e>0?"-":"").concat(n).concat(s(r),":").concat(s(l))}const E='\n  <input class="'.concat("cc-cp-range",'" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek" role="slider" aria-valuemin="0">\n'),k=(e,t,s)=>{const n=0===t||0===s?0:(s/t*100).toFixed(2);e.value=n,e.setAttribute("aria-valuenow",s),e.setAttribute("aria-valuemax",t),e.setAttribute("aria-valuetext","".concat(S(s)," of ").concat(S(t))),e.style.setProperty("--value","".concat(n,"%"))},w=(e,t,s)=>{e.textContent=S(t-s,!0)};var A={isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};const M='\n  <button type="button" class="plyr__control plyr__control--overlaid" data-plyr="play" aria-label="Play, {title}">\n    <svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-play"></use></svg>\n    <span class="plyr__sr-only">Play</span>\n  </button>\n  <div class="plyr__controls">\n    <button type="button" class="plyr__control" aria-label="Play, {title}" data-plyr="play">\n      <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-pause"></use></svg>\n      <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-play"></use></svg>\n      <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n      <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n    </button>\n    <div class="plyr__controls__item plyr__progress__container">\n      <div class="plyr__progress">\n        <span role="tooltip" class="'.concat("cc-cp-seektooltip",' plyr__tooltip">00:00</span>\n      </div>\n    </div>\n    <div class="').concat("cc-cp-countdown",' plyr__controls__item plyr__time" aria-label="Current time">00:00</div>\n    <div class="plyr__volume">\n      <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n        <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-muted"></use></svg>\n        <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-volume"></use></svg>\n        <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n        <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n      </button>\n      <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n    </div>\n    ').concat(A.isIos?"":'\n      <button type="button" class="plyr__control" data-plyr="fullscreen">\n        <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-exit-fullscreen"></use></svg>\n        <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-enter-fullscreen"></use></svg>\n        <span class="label--pressed plyr__tooltip" role="tooltip">Exit fullscreen</span>\n        <span class="label--not-pressed plyr__tooltip" role="tooltip">Enter fullscreen</span>\n      </button>\n    ',"\n  </div>\n"),x=[class{constructor(e){this.player=e,this.lastKey=null,y.forEach((e=>{window.addEventListener(e,this.handleKey.bind(this))}))}handleKey(e){const t=e.keyCode?e.keyCode:e.which,s="keydown"===e.type,n=s&&t===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&Number.isInteger(t)){if(!s)return void(this.lastKey=null);const r=document.activeElement;if((!(r instanceof Node)||r===this.player.containerElement||this.player.containerElement.contains(r)||this.player.isPlaying())&&!(r instanceof HTMLInputElement)){v.includes(t)&&(e.preventDefault(),e.stopPropagation());const s=(e=>g.includes(e)?"numericSegment":I.includes(e)?"togglePlay":38===e?"increaseVolume":40===e?"decreaseVolume":39===e?"forward":37===e?"rewind":77===e?"toggleMute":70===e?"toggleFullscreen":27===e?"escape":null)(t);"togglePlay"===s?!n&&this.player.togglePlay():"increaseVolume"===s?this.player.increaseVolume(.1):"decreaseVolume"===s?this.player.decreaseVolume(.1):"toggleMute"===s?!n&&this.player.toggleMute():"forward"===s?this.player.forward():"rewind"===s?this.player.rewind():"numericSegment"===s?!n&&this.player.seekToAdjusted(((e,t)=>t/10*(e-48))(t,this.player.getAdjustedDuration())):"toggleFullscreen"===s?this.player.toggleFullscreen():"escape"===s&&(this.player.isNonNativeFullscreenActive()&&this.player.toggleFullscreen()),this.lastKey=t}}}},class{constructor(e){this.player=e;const t=this.player.getElements();t.progress.insertAdjacentHTML("afterbegin",E),this.seekBar=t.controls.querySelector(".".concat("cc-cp-range")),this.countdown=t.controls.querySelector(".".concat("cc-cp-countdown")),this.tooltip=t.controls.querySelector(".".concat("cc-cp-seektooltip")),b().setup(this.seekBar);const s=this.player.getAdjustedDuration(),n=this.player.getAdjustedStartTime();k(this.seekBar,s,n),w(this.countdown,s,n),["mousedown","mouseup","keydown","keyup","touchstart","touchend"].forEach((e=>{this.seekBar.addEventListener(e,(e=>{((e,t,s)=>{const n=e.keyCode?e.keyCode:e.which;if(!(e instanceof KeyboardEvent&&39!==n&&37!==n)){s.setLastSeekTime(Date.now());const n=t.hasAttribute("play-on-seeked"),r=["mouseup","touchend","keyup"].includes(e.type);n&&r?(t.removeAttribute("play-on-seeked"),s.play()):!r&&s.isPlaying()&&(t.setAttribute("play-on-seeked",""),s.pause())}})(e,this.seekBar,this.player)}))})),this.seekBar.addEventListener("input",(e=>{((e,t,s)=>{e.stopImmediatePropagation(),e.stopPropagation();let n=s.getAdjustedDuration()/100*t.value;s.seekToAdjusted(n),!s.isPlaying()&&(s.play(),s.pause())})(e,this.seekBar,this.player)}));const r=e=>{((e,t,s,n,r)=>{if(0===n)return;const l="plyr__tooltip--visible",a=e=>e?t.classList.add(l):t.classList.remove(l);r.isTouch()&&a(!1);const i=s.getBoundingClientRect();let o=100/i.width*(e.pageX-i.left);o<0&&(o=0),o>100&&(o=100),t.textContent=S(n/100*o),t.style.left="".concat(o,"%"),["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)})(e,this.tooltip,this.seekBar,this.player.getAdjustedDuration(),this.player)};this.seekBar.addEventListener("mouseenter",r),this.seekBar.addEventListener("mousemove",r),this.seekBar.addEventListener("mouseleave",r)}getSubscribedEvents(){return[["timeupdate",this.onPlayTimeChange],["seeking",this.onPlayTimeChange],["seeked",this.onPlayTimeChange]]}onPlayTimeChange(){const e=this.player.getAdjustedDuration(),t=this.player.getAdjustedCurrentTime();k(this.seekBar,e,t),w(this.countdown,e,t)}}];class P{constructor(e,t,s,n){var r;this.adjustedDuration=0,this.containerElement=null,this.playbackStart=!1,this.chapterStart=t,this.chapterEnd=s,this.startAt=null!==(r=n.startAt)&&void 0!==r?r:null,this.plyr=((e,t,s,n)=>{var r;const l=null!==(r=n.startAt)&&void 0!==r?r:null;let a=!1;const i=new(h())("#".concat(e),{controls:M,keyboard:{global:!1,focused:!1},fullscreen:{enabled:!A.isIos},youtube:{fs:A.isIos?0:1},ratio:"16:9"});return i.on("playing",(()=>a||null===l?void(null!==t&&i.currentTime<t&&(i.currentTime=t)):(i.currentTime=l,void(a=!0)))),i.on("play",(()=>{null!==s&&i.currentTime===s&&(i.currentTime=null!=t?t:0),n.events&&n.events.play&&n.events.play()})),i.on("pause",(()=>{n.events&&n.events.pause&&n.events.pause()})),i.on("timeupdate",(()=>{null!==t&&i.currentTime<t&&(i.currentTime=t),null!==s&&i.currentTime>=s&&(i.currentTime=s,i.pause(),n.events&&n.events.end&&n.events.end())})),i.on("ended",(()=>{n.events&&n.events.end&&n.events.end()})),i})(e,t,s,n),this.plyr.on("ready",(()=>{this.adjustedDuration=((e,t,s)=>{const n=e.duration;return null===t?n:null===s?n-t:s-t})(this.plyr,this.chapterStart,this.chapterEnd),this.containerElement=this.plyr.elements.container,x.forEach((e=>{const t=new e(this);if("function"==typeof t.getSubscribedEvents){t.getSubscribedEvents().forEach((e=>{const s=e[0],n=e[1];this.plyr.on(s,n.bind(t))}))}}))})),this.plyr.on("playing",(()=>{this.playbackStarted=!0}))}play(){this.plyr.play()}pause(){this.plyr.pause()}togglePlay(){this.plyr.togglePlay()}forward(){const e=this.plyr.config.seekTime,t=this.plyr.currentTime;return null===this.chapterEnd||t+e<this.chapterEnd?void this.plyr.forward():(this.plyr.currentTime=this.chapterEnd,void this.plyr.pause())}rewind(){const e=this.plyr.config.seekTime,t=this.plyr.currentTime;return null===this.chapterStart||t-e>this.chapterStart?void this.plyr.rewind():void(this.plyr.currentTime=this.chapterStart)}toggleFullscreen(){this.plyr.fullscreen.toggle()}isNonNativeFullscreenActive(){return!this.plyr.fullscreen.usingNative&&this.plyr.fullscreen.active}seekToAdjusted(e){let t=e;null!==this.chapterStart&&(t+=this.chapterStart),this.plyr.currentTime=t}increaseVolume(e){this.plyr.increaseVolume(e)}decreaseVolume(e){this.plyr.decreaseVolume(e)}toggleMute(){this.plyr.muted=!this.plyr.muted}getCurrentTime(){const e=this.plyr.currentTime;return this.playbackStarted||null===this.startAt?null!==this.chapterStart&&e<this.chapterStart?this.chapterStart:null!==this.chapterEnd&&e>this.chapterEnd?this.chapterEnd:e:this.startAt}getAdjustedCurrentTime(){const e=this.getCurrentTime();return this.playbackStarted?null===this.chapterStart?e:e-this.chapterStart:this.getAdjustedStartTime()}getAdjustedDuration(){return this.adjustedDuration}getAdjustedStartTime(){return null===this.startAt?0:null===this.chapterStart?this.startAt:this.startAt<this.chapterStart?this.chapterStart:this.startAt-this.chapterStart}getElements(){return this.plyr.elements}setLastSeekTime(e){this.plyr.lastSeekTime=e}isPlaying(){return this.plyr.playing}isTouch(){return this.plyr.touch}}const O=()=>(0,a.y0)().classroom,L=e=>(0,a.IW)({classroom:{...O(),...e}});L(window.CC.data.classroom);let D=null;const j="Classroom Course started",R="Classroom item completed",U=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={category:e,action:t,label:O().courseName};null!==s&&(n.value=s);const r={courseId:O().courseId};return[n,r]},N=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!O().courseStarted&&e!==j&&(window.CC.trackGA(...U(j,t)),L({courseStarted:!0})),window.CC.trackGA(...U(e,t,s))},B=()=>{null!==O().nextItem&&(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:O().nextItem.id},data:{isCurrent:!0,values:{currentTime:0,currentTimeDisplay:0,durationDisplay:100}}})},Y=function(){let e=!!(arguments.length>0&&void 0!==arguments[0])&&arguments[0];const t={};if(null!==D){const s=D.getCurrentTime(),n=D.getAdjustedCurrentTime(),r=D.getAdjustedDuration();s===O().selectedItemCurrentTime||(e&&(t.keepalive=!0),(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:O().selectedItemId},data:{values:{currentTime:s,currentTimeDisplay:n,durationDisplay:r}},fetchOptions:t}),L({selectedItemCurrentTime:s}))}},K=()=>{let e={};(0,a.y0)().user.loggedIn&&(e={play:()=>{!O().selectedItemIsCurrent&&(()=>{const e={isCurrent:!0,values:{currentTime:0,currentTimeDisplay:0,durationDisplay:D.getAdjustedDuration()}};(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:O().selectedItemId},data:e}),L({selectedItemIsCurrent:!0,selectedItemCurrentTime:0}),(0,a.sY)("classroom_state_banner",u(O())),!O().courseStarted&&(N(j,"YouTube video play button"),L({courseStarted:!0}))})()},pause:()=>{Y()},end:()=>{!O().selectedItemIsCompleted&&((()=>{(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:O().selectedItemId},data:{isCompleted:!0}}),L({completedItems:O().completedItems+1,selectedItemIsCompleted:!0}),(0,a.sY)("classroom_current_item_status_".concat(O().selectedItemId),c({itemId:O().selectedItemId,isCompleted:!0})),(0,a.sY)("classroom_state_banner",u(O())),(0,a.sY)("classroom_item_state_indicator_".concat(O().selectedItemId),d({isCompleted:!0,isCurrent:!0,itemId:O().selectedItemId})),null!==O().nextItemUrl&&(0,a.sY)("classroom_next_item_button",p({...O(),highlight:!0}));let e=null;null!==D&&(e=D.getAdjustedDuration()),N(R,"Video ended",e)})(),B())}}),D=new P("classroom-player",O().selectedItemChapterStart,O().selectedItemChapterEnd,{startAt:O().selectedItemCurrentTime,events:e})},V=e=>{!(0,a.y0)().user.loggedIn||!O().selectedItemIsCurrent||!["hidden","terminated"].includes(e.newState)||Y(!0)};var F=e=>{switch(e.name){case"load:CLASSROOM_MODULE":{r().polyfill();const e="is-affixed",t=document.getElementById("cmpt-sidebar"),s=()=>t.getBoundingClientRect().top<1?void t.classList.add(e):void t.classList.remove(e);window.addEventListener("scroll",s),s(),l.Z.addEventListener("statechange",V),K();break}case"click:START_CLASSROOM_COURSE":{if(!(0,a.y0)().user.loggedIn)return void(0,i.W)("signup","SIGNUP_INTENT",{returnToPage:!0,source:"Start Classroom course"});const e={isCurrent:!0};null!==D&&(e.values={currentTime:0,currentTimeDisplay:0,durationDisplay:D.getAdjustedDuration()}),(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:O().selectedItemId},data:e}),window.matchMedia("(min-width: ".concat(O().largeLayoutMinWidth,")")).matches&&document.getElementById("cmpt-media").scrollIntoView({behavior:"smooth"}),(0,a.sY)("classroom_state_banner",u(O())),null!==D&&D.play(),N(j,"“Start course” button"),L({courseStarted:!0});break}case"click:MARK_CLASSROOM_ITEM_COMPLETE":{if(!(0,a.y0)().user.loggedIn)return void(0,i.W)("signup","SIGNUP_INTENT",{returnToPage:!0,source:"Mark Classroom course item complete"});e.originalEvent.preventDefault(),(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:e.detail.itemId},data:{isCompleted:!0}}),B(),L({completedItems:O().completedItems+1}),e.detail.itemId===O().selectedItemId&&L({selectedItemIsCompleted:!0}),(0,a.sY)("classroom_current_item_status_".concat(e.detail.itemId),c({...e.detail,isCompleted:!0})),(0,a.sY)("classroom_state_banner",u(O())),(0,a.sY)("classroom_item_state_indicator_".concat(e.detail.itemId),d({isCompleted:!0,isCurrent:e.detail.itemId===O().selectedItemId,itemId:e.detail.itemId})),null!==O().nextItemUrl&&(0,a.sY)("classroom_next_item_button",p({...O(),highlight:!0}));let t=null;null!==D&&(t=D.getAdjustedDuration()),N(R,"“Mark complete” button",t),O().completedItems===O().totalItems&&N("Classroom Course completed","“Mark complete” button");break}case"click:UNDO_CLASSROOM_ITEM_COMPLETE":if(!(0,a.y0)().user.loggedIn)return void(0,i.W)("signup","SIGNUP_INTENT",{returnToPage:!0,source:"Undo Classroom course item complete"});e.originalEvent.preventDefault(),(0,o.Z)("CLASSROOM/UPDATE_ITEM",{parameters:{courseId:O().courseId,itemId:e.detail.itemId},data:{isCompleted:!1,isCurrent:!0}}),L({completedItems:O().completedItems-1}),e.detail.itemId===O().selectedItemId&&L({selectedItemIsCompleted:!1}),(0,a.sY)("classroom_current_item_status_".concat(e.detail.itemId),c({...e.detail,isCompleted:!1})),(0,a.sY)("classroom_state_banner",u(O())),(0,a.sY)("classroom_item_state_indicator_".concat(e.detail.itemId),d({isCompleted:!1,isCurrent:e.detail.itemId===O().selectedItemId,itemId:e.detail.itemId})),null!==O().nextItemUrl&&(0,a.sY)("classroom_next_item_button",p({...O(),highlight:!1}))}}}}]);