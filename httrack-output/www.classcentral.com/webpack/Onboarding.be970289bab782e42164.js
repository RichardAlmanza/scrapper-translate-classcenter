"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7053],{8117:function(e,n){n.Z=e=>'\n  <button\n    class="'.concat(e.isLoading?" processing ":"").concat(e.style?e.style:"btn-blue"," btn-").concat(e.size||"large",' relative"\n    type="').concat(e.type?e.type:"submit",'"').concat(e.isLoading?" disabled":"","\n  >\n    ").concat(e.isLoading?'<span\n        class="loader-bars '.concat(e.loaderStyle?e.loaderStyle:"loader-white",' loader-small absolute"\n        style="left: 50%; margin-left: -2.5px;"\n      ></span>\n      <span class="invisible">').concat(e.label,"</span>"):e.label,"\n  </button>\n")},5030:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t(9894),s=t(5982),o=t(8785),c=t(3443);var i=t(8117);const l=()=>(0,a.y0)().onboarding,r=e=>(0,a.IW)({onboarding:{...l(),...e}});r({resources:{},type:window.location.pathname.match(/[^/]+$/)[0].toUpperCase(),nextPage:null});var u=e=>{switch(e.name){case"load:ONBOARDING_MODULE":(0,c.re)("signup_source")&&(window.CC.trackGA({category:"sign up complete",action:(0,c.re)("signup_source"),label:(0,c.re)("signup_page")||"page unspecified"}),window.history.replaceState(null,null,window.location.pathname));break;case"submit:ONBOARDING_RESOURCE_FORM":{e.originalEvent.preventDefault();const n=new FormData(e.originalEvent.target);(0,a.sY)("onboarding-submit-button",(0,i.Z)({label:"SUBJECTS"===l().type?"Continue":"Done",isLoading:!0})),r({nextPage:n.get("next")});const t=Object.values(l().resources).map((e=>{let{id:n}=e;return Number(n)}));if(t.length>0)return void(0,o.Z)("ONBOARDING_ADD_".concat(l().type),{data:{[{SUBJECTS:"subject_ids",COURSES:"course_ids"}[l().type]]:t}});(0,s.W)("request","ONBOARDING_SUBMIT_SUCCESS");break}case"click:ONBOARDING_RESOURCE_ADD":r({resources:{...l().resources,[e.detail.id]:e.detail}}),d({detail:e.detail,isPressed:!0});break;case"click:ONBOARDING_RESOURCE_REMOVE":{const n=l();delete n.resources[e.detail.id],r(n),d({detail:e.detail,isPressed:!1});break}case"request:ONBOARDING_SUBMIT_SUCCESS":case"request:ONBOARDING_ADD_SUBJECTS_SUCCESS":case"request:ONBOARDING_ADD_COURSES_SUCCESS":if(null===l().nextPage)throw new Error("Next page URL not defined");window.location.assign(l().nextPage);break;case"pageshow:DOCUMENT":case"request:ONBOARDING_ADD_SUBJECTS_ERROR":case"request:ONBOARDING_ADD_COURSES_ERROR":(0,a.sY)("onboarding-submit-button",(0,i.Z)({label:"SUBJECTS"===l().type?"Continue":"Done",isLoading:!1}))}};const d=e=>{let{detail:n,isPressed:t}=e;if("SUBJECTS"===l().type){const e=Object.values(l().resources).reduce(((e,n)=>{let{courseCount:t}=n;return e+t}),0);(0,a.sY)("courses-found-count",(e=>0===e.count?"":'\n  <p class="text-1 color-charcoal">\n    <span class="weight-semi">'.concat(e.count,"</span> courses found\n  </p>\n"))({count:e}))}(0,a.sY)("onboarding-resource-".concat(n.id),(e=>'\n  <button\n    class="btn-medium icon-left-xsmall small-down-width-100 text-left '.concat((e=>{let{isPressed:n}=e;return n?"btn-blue-outline icon-checkmark-blue":"btn-white icon-plus-charcoal"})(e),'"\n    type="button"\n    aria-pressed="').concat(e.isPressed,'"\n    data-detail=\'{\n      "id": "').concat(e.id,'",\n      "name": "').concat(e.name,'",\n      "courseCount": ').concat(void 0===e.courseCount?null:e.courseCount,',\n      "hasNewLabel": ').concat(e.hasNewLabel?"true":"false","\n    }'\n    data-name=\"ONBOARDING_RESOURCE_").concat(e.isPressed?"REMOVE":"ADD",'"\n  >\n    ').concat(e.hasNewLabel?'\n        <span \n          class="bg-yellow-mid radius-small color-white text-4 weight-bold upper line-tight inline relative"\n          style="padding: 0px 3px; top: -1px; margin-right: 3px;"\n        >New</span>\n      ':""," ").concat(e.name,"\n  </button>\n"))({isPressed:t,...n}))}}}]);